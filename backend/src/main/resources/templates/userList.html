<!DOCTYPE html>
<html xmlns:th="www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout/layout}">
<head>
    <meta charset="UTF-8">
</head>
<body>
<div layout:fragment="content" class="content">
    <section>
        <div class="tab-menu">
            <a href="userList" class="active">ÌöåÏõê Ï°∞Ìöå</a>
            <a href="sales" class="active">Îß§Ï∂ú Ï°∞Ìöå</a>
            <a href="game" class="active">Î©§Î≤ÑÏâΩ Ï°∞Ìöå</a>
        </div>

        <div class="container">
            <div class="table-header">
                <div class="search-bar">
                    <span class="filter-icon">üîç</span>
                    <select id="searchCriteria" class="search-criteria">
                        <option value="name">Ïù¥Î¶Ñ</option>
                        <option value="email">Ïù¥Î©îÏùº</option>
                        <option value="membership">Î©§Î≤ÑÏã≠</option>
                    </select>
                    <input type="text" id="searchInput" placeholder="Search...">
                    <button id="searchButton">Í≤ÄÏÉâ</button>
                </div>
                <a href="createAdmin" class="add-button">+ Ïã†Í∑ú Í¥ÄÎ¶¨Ïûê</a>
            </div>

            <table class="table">
                <thead>
                <tr>
                    <th>#</th>
                    <th>Ïù¥Î¶Ñ</th>
                    <th>Ïù¥Î©îÏùº</th>
                    <th>Î©§Î≤ÑÏã≠</th>
                    <th>Ï∂©Ï†Ñ ÏûîÏï°</th>
                    <th>ÌöåÏõê ÏÉÅÌÉú</th>
                </tr>
                </thead>
                <tbody th:each="user : ${userPage}">
                <tr>
                    <td th:text="${user.userId}">1</td>
                    <td>
                        <a th:text="${user.userName}"
                           th:href="@{/admin/userDetail/{userId}(userId = ${user.userId})}">Î∞ïÏÑ†ÏïÑ</a>
                    </td>
                    <td th:text="${user.userEmail}">seon04520@gmail.com</td>
                    <td>
                        <span th:each="membership : ${user.userMembership}">
                            <span th:text="${membership.membershipName}">BRONZE</span>
                        </span>
                    </td>
                    <td>
                        <span th:each="payment : ${user.payments}">
                        <span th:text="${payment.paymentAmount != null ? payment.paymentAmount : 0}"></span>Ïõê
                        </span>
                        <span th:if="${#lists.isEmpty(user.payments)}">0Ïõê</span>
                    </td>
                    <td>
                        <span th:if="${user.userStatus == T(com.team.MMSValleyBall.enums.UserStatus).ACTIVE}"
                              class="status ACTIVE" th:text="${user.userStatus}">ACTIVE
                        </span>
                        <span th:if="${user.userStatus == T(com.team.MMSValleyBall.enums.UserStatus).INACTIVE}"
                              class="status INACTIVE" th:text="${user.userStatus}">INACTIVE
                        </span>
                    </td>
                </tr>
                </tbody>
            </table>

            <div class="pagination">
                <!-- Ïù¥Ï†Ñ ÌéòÏù¥ÏßÄ Î≤ÑÌäº -->
                <span th:if="${userPage != null}" th:classappend="${userPage.number <= 0} ? 'disabled'">
                    <a th:href="${userPage.number > 0} ? @{/admin/userList(page=${userPage.number - 1}, size=${userPage.size})} : '#'">
                        &laquo; Ïù¥Ï†Ñ
                    </a>
                </span>

                <!-- ÌéòÏù¥ÏßÄ Î≤àÌò∏ ÎßÅÌÅ¨ -->
                <span th:if="${userPage != null}" th:each="pageNumber : ${pageBars}">
                    <a class="page-link"
                       th:href="@{/admin/userList(page=${pageNumber}, size=${userPage.size})}"
                       th:text="${pageNumber + 1}">1</a>
                </span>

                <!-- Îã§Ïùå ÌéòÏù¥ÏßÄ Î≤ÑÌäº -->
                <span th:if="${userPage != null}"
                      th:classappend="${userPage.number + 1 == userPage.totalPages} ? 'disabled'">
                    <a th:href="${userPage.number + 1 < userPage.totalPages} ? @{/admin/userList(page=${userPage.number + 1}, size=${userPage.size})} : '#'">
                        Îã§Ïùå &raquo;
                    </a>
                </span>
            </div>
        </div>
        <!-- Ï¥ù ÌöåÏõê Ïàò ÌëúÏãú -->
        <span th:text="'Ï¥ù ÌöåÏõê Ïàò : ' + ${totalUsers} + 'Î™Ö'" class="AllText"></span>
    </section>
</div>

<script src="/static/js/jQuery.js"></script>
<script th:inline="javascript">

</script>
</body>
</html>